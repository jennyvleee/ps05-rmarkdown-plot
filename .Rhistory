co2percapita_bottom
co2percapita_bottom <-
gap %>%
filter(!is.na(co2_PC)) %>%
group_by(region) %>%
arrange(co2_PC) %>%
top_n(n = 3, wt = -co2_PC)
co2percapita_bottom
co2percapita_top <-
gap %>%
filter(!is.na(co2_PC)) %>%
group_by(region) %>%
top_n(n = 3, wt = co2_PC)
co2percapita_top
View(co2percapita_top)
co2percapita_bottom <-
gap %>%
filter(!is.na(co2_PC)) %>%
group_by(region) %>%
arrange(co2_PC) %>%
top_n(n = 3, wt = -co2_PC)
co2percapita_bottom
co2percapita_top <-
gap %>%
filter(!is.na(co2_PC)) %>%
group_by(region) %>%
top_n(n = 3, wt = co2_PC)
co2percapita_top
co2percapita_bottom <-
gap %>%
filter(!is.na(co2_PC)) %>%
group_by(region) %>%
arrange(co2_PC) %>%
top_n(n = 3, wt = -co2_PC)
co2percapita_bottom
co2percapita_top <-
gap %>%
filter(!is.na(co2_PC)) %>%
group_by(region) %>%
top_n(n = 3, wt = co2_PC)
co2percapita_top
co2percapita_bottom <-
gap %>%
filter(!is.na(co2_PC)) %>%
group_by(region) %>%
arrange(co2_PC) %>%
top_n(n = 3, wt = -co2_PC)
co2percapita_bottom
co2percapita_top <-
gap %>%
filter(!is.na(co2_PC)) %>%
filter(time == 2019)
group_by(region) %>%
top_n(n = 3, wt = co2_PC)
co2percapita_top <-
gap %>%
filter(!is.na(co2_PC)) %>%
filter(time == 2019)  %>%
group_by(region) %>%
top_n(n = 3, wt = co2_PC)
co2percapita_top
co2percapita_bottom <-
gap %>%
filter(!is.na(co2_PC)) %>%
group_by(region) %>%
arrange(co2_PC) %>%
top_n(n = 3, wt = -co2_PC)
co2percapita_bottom
co2percapita_top <-
gap %>%
filter(!is.na(co2_PC)) %>%
filter(time == 2019)  %>%
group_by(region) %>%
top_n(n = 3, wt = co2_PC)
co2percapita_top
co2percapita_bottom <-
gap %>%
filter(!is.na(co2_PC)) %>%
filter(time == 2019)  %>%
group_by(region) %>%
arrange(co2_PC) %>%
top_n(n = 3, wt = -co2_PC)
co2percapita_bottom
co2percapita_top <-
gap %>%
filter(!is.na(co2_PC)) %>%
filter(time == 2019)  %>%
group_by(region) %>%
top_n(n = 3, wt = co2_PC)
co2percapita_top
co2percapita_bottom <-
gap %>%
filter(!is.na(co2_PC)) %>%
filter(time == 2019)  %>%
group_by(region) %>%
arrange(co2_PC) %>%
top_n(n = 3, wt = -co2_PC)
co2percapita_bottom
co2percapita_top <-
gap %>%
filter(time == 2019)  %>%
filter(!is.na(co2_PC)) %>%
group_by(region) %>%
top_n(n = 3, wt = co2_PC)
co2percapita_top
co2percapita_bottom <-
gap %>%
filter(time == 2019)  %>%
filter(!is.na(co2_PC)) %>%
group_by(region) %>%
arrange(co2_PC) %>%
top_n(n = 3, wt = -co2_PC)
co2percapita_bottom
co2percapita_top <-
gap %>%
filter(time == 2019)  %>%
filter(!is.na(co2_PC)) %>%
group_by(region) %>%
top_n(n = 3, wt = co2_PC)
co2percapita_top
co2percapita_bottom <-
gap %>%
filter(time == 2019)  %>%
filter(!is.na(co2_PC)) %>%
group_by(region) %>%
arrange(co2_PC) %>%
top_n(n = 3, -co2_PC)
co2percapita_bottom
co2percapita_top <-
gap %>%
filter(time == 2019)  %>%
filter(!is.na(co2_PC)) %>%
group_by(region) %>%
top_n(n = 3, wt = co2_PC)
co2percapita_top
co2percapita_bottom <-
gap %>%
filter(time == 2019)  %>%
filter(!is.na(co2_PC)) %>%
group_by(region) %>%
arrange(co2_PC) %>%
top_n(n = 3, co2_PC)
co2percapita_bottom
co2percapita_top <-
gap %>%
group_by(region) %>%
filter(!is.na(co2_PC)) %>%
top_n(n = 3, wt = co2_PC)
co2percapita_top
co2percapita_bottom <-
gap %>%
filter(!is.na(co2_PC)) %>%
group_by(region) %>%
arrange(co2_PC) %>%
top_n(n = 3, co2_PC)
co2percapita_bottom
co2percapita_top <-
gap %>%
group_by(region) %>%
filter(!is.na(co2_PC)) %>%
top_n(n = 3, wt = co2_PC)
co2percapita_top
co2percapita_bottom <-
gap %>%
group_by(region) %>%
filter(!is.na(co2_PC)) %>%
arrange(co2_PC) %>%
top_n(n = 3, co2_PC)
co2percapita_bottom
co2percapita_top <-
gap %>%
group_by(region) %>%
filter(!is.na(co2_PC)) %>%
filter(time == 2019) %>%
top_n(n = 3, wt = co2_PC)
co2percapita_top
co2percapita_bottom <-
gap %>%
group_by(region) %>%
filter(!is.na(co2_PC)) %>%
arrange(co2_PC) %>%
top_n(n = 3, co2_PC)
co2percapita_bottom
View(gap)
co2percapita_top <-
gap %>%
group_by(region) %>%
filter(time == 2019) %>%
top_n(n = 3, wt = co2_PC)
co2percapita_top
co2percapita_bottom <-
gap %>%
group_by(region) %>%
filter(time == 2019) %>%
arrange(co2_PC) %>%
top_n(n = 3, co2_PC)
co2percapita_bottom
co2percapita_top <-
gap %>%
group_by(region) %>%
filter(!is.na(co2_PC)) %>%
top_n(n = 3, wt = co2_PC)
co2percapita_top
co2percapita_bottom <-
gap %>%
group_by(region) %>%
filter(!is.na(co2_PC)) %>%
arrange(co2_PC) %>%
top_n(n = 3, co2_PC)
co2percapita_bottom
gap %>%
filter(!is.na(co2_PC), !is.na(region)) %>%
filter(time == 1960 | time ==2016) %>%
group_by(region, time) %>%
mutate(avg_co2_pc = mean(co2_PC)) %>%
ggplot(aes(x = region, y = avg_co2_pc, fill = factor(time)))+
geom_bar(stat = "identity", position = "dodge")
co2percapita_top <-
gap %>%
group_by(region) %>%
filter(!is.na(co2_PC)) %>%
top_n(n = 3, wt = co2_PC)
co2percapita_top
co2percapita_bottom <-
gap %>%
group_by(region) %>%
filter(!is.na(co2_PC)) %>%
arrange(co2_PC) %>%
top_n(n = 3, co2_PC)
co2percapita_bottom
co2percapita_top <-
gap %>%
group_by(region) %>%
filter(!is.na(co2_PC)) %>%
top_n(n = 3, wt = co2_PC)
co2percapita_top
View(co2percapita_top)
co2percapita_bottom <-
gap %>%
group_by(region) %>%
filter(!is.na(co2_PC)) %>%
arrange(co2_PC) %>%
top_n(n = 3, co2_PC)
co2percapita_bottom
View(gap)
by_year <- gap %>%
filter(time == 2019)
by_year
co2percapita_top <-
gap %>%
group_by(region) %>%
filter(!is.na(co2_PC)) %>%
top_n(n = 3, wt = co2_PC)
co2percapita_top
co2percapita_bottom <-
gap %>%
group_by(region) %>%
filter(!is.na(co2_PC)) %>%
arrange(co2_PC) %>%
top_n(n = 3, co2_PC)
co2percapita_bottom
by_year <- gap %>%
filter(time == 2019)
by_year
View(by_year)
co2percapita_top <-
gap %>%
group_by(region) %>%
filter(!is.na(co2_PC)) %>%
top_n(n = 3, wt = co2_PC)
co2percapita_top
co2percapita_bottom <-
gap %>%
group_by(region) %>%
filter(!is.na(co2_PC)) %>%
arrange(co2_PC) %>%
top_n(n = 3, co2_PC)
co2percapita_bottom
by_year <- gap %>%
filter(time == 2019)
by_year
View(by_year)
co2percapita_top <-
by_year %>%
group_by(region) %>%
filter(!is.na(co2_PC)) %>%
top_n(n = 3, wt = co2_PC)
co2percapita_top
co2percapita_bottom <-
by_year %>%
group_by(region) %>%
filter(!is.na(co2_PC)) %>%
arrange(co2_PC) %>%
top_n(n = 3, co2_PC)
co2percapita_bottom
by_year <- gap %>%
filter(time == 2019)
by_year
co2percapita_top <-
by_year %>%
group_by(region) %>%
filter(is.na(co2_PC)) %>%
top_n(n = 3, wt = co2_PC)
co2percapita_top
co2percapita_bottom <-
by_year %>%
group_by(region) %>%
filter(is.na(co2_PC)) %>%
arrange(co2_PC) %>%
top_n(n = 3, co2_PC)
co2percapita_bottom
by_year <- gap %>%
filter(time == 2019)
by_year
co2percapita_top <-
by_year %>%
group_by(region) %>%
filter(!is.na(co2_PC)) %>%
top_n(n = 3, wt = co2_PC)
co2percapita_top
co2percapita_bottom <-
by_year %>%
group_by(region) %>%
filter(!is.na(co2_PC)) %>%
arrange(co2_PC) %>%
top_n(n = 3, co2_PC)
co2percapita_bottom
by_year <- gap %>%
filter(time == 2019)
by_year
co2percapita_top <-
by_year %>%
group_by(region) %>%
filter(!is.na(co2_PC)) %>%
top_n(n = 3, co2_PC)
co2percapita_top
co2percapita_bottom <-
by_year %>%
group_by(region) %>%
filter(!is.na(co2_PC)) %>%
arrange(co2_PC) %>%
top_n(n = 3, co2_PC)
co2percapita_bottom
by_year <- gap %>%
filter(time == 2019)
by_year
co2percapita_top <-
by_year %>%
group_by(region) %>%
filter(!is.na(co2_PC)) %>%
top_n(n = 3,wt= co2_PC)
co2percapita_top
co2percapita_bottom <-
by_year %>%
group_by(region) %>%
filter(!is.na(co2_PC)) %>%
arrange(co2_PC) %>%
top_n(n = 3,wt = -co2_PC)
co2percapita_bottom
by_year <- gap %>%
filter(time == 2019)
by_year
co2percapita_top <-
by_year %>%
group_by(region) %>%
filter(!is.na(co2_PC)) %>%
top_n(n = 3,wt= co2_PC)
co2percapita_top
co2percapita_bottom <-
by_year %>%
group_by(region) %>%
filter(!is.na(co2_PC)) %>%
arrange(co2_PC) %>%
top_n(n = 3,wt = -co2_PC)
co2percapita_bottom
by_year <- gap %>%
filter(time == "2019")
by_year
co2percapita_top <-
by_year %>%
group_by(region) %>%
filter(!is.na(co2_PC)) %>%
top_n(n = 3,wt= co2_PC)
co2percapita_top
co2percapita_bottom <-
by_year %>%
group_by(region) %>%
filter(!is.na(co2_PC)) %>%
arrange(co2_PC) %>%
top_n(n = 3,wt = -co2_PC)
co2percapita_bottom
gap %>%
group_by(region ,name) %>%
filter(time == 2016) %>%
filter(!is.na(region) & !is.na(co2_PC) & !is,na(name)) %>%
summarize(n = co2_PC) %>%
filter(rank(desc(n)) <= 3 | rank(n) <= 3) %>%
arrange(desc(n)) %>%
arrange(region)
gap %>%
group_by(region ,name) %>%
filter(time == 2016) %>%
filter(!is.na(region) & !is.na(co2_PC) & !is.na(name)) %>%
summarize(n = co2_PC) %>%
filter(rank(desc(n)) <= 3 | rank(n) <= 3) %>%
arrange(desc(n)) %>%
arrange(region)
gapminder_1960 <- gapminder %>% filter(time == 1960)
gapminder_1960 <- gapminder %>% filter(time == 1960)
gap <- gapminder %>% filter(time == 1960)
gapminder_1960 <- gap %>% filter(time == 1960)
ggplot(gapminder_1960, aes(x = GDP_PC, y = lifeexpectancy, size = totalPopulation, color = region))+
geom_point(alpha = 0.7)+
scale_size_area(max_size = 12) +
scale_color_brewer(palette = "set1") +
labs(x = "GDP per capita (USD)", Y = "Life expectancy (years)", title = "GDP per capita vs. Life expectancy (1960)") +
theme_minimal()
gapminder_1960 <- gap %>% filter(time == 1960)
ggplot(gapminder_1960, aes(x = GDP_PC, y = lifeexpectancy, size = totalPopulation, color = region)) +
geom_point(alpha = 0.7) +
scale_size_area(max_size = 12) +
scale_color_brewer(palette = "set1") +
labs(x = "GDP per capita (USD)", Y = "Life expectancy (years)", title = "GDP per capita vs. Life expectancy (1960)") +
theme_minimal()
gapminder_1960 <- gap %>% filter(time == 1960)
ggplot(gapminder_1960, aes(x = GDP_PC, y = lifeexpectancy, size = totalPopulation, color = region)) +
geom_point(alpha = 0.7) +
scale_size_area(max_size = 12) +
scale_color_brewer(palette = "Set1") +
labs(x = "GDP per capita (USD)", Y = "Life expectancy (years)", title = "GDP per capita vs. Life expectancy (1960)") +
theme_minimal()
library(utils)
library(tidyverse)
library(ggplot2)
gapminder_1960 <- gap %>% filter(time == 1960)
ggplot(gapminder_1960, aes(x = GDP_PC, y = lifeexpectancy, size = totalPopulation, color = region)) +
geom_point(alpha = 0.7) +
scale_size_area(max_size = 12) +
scale_color_brewer(palette = "Set1") +
labs(x = "GDP per capita (USD)", Y = "Life expectancy (years)", title = "GDP per capita vs. Life expectancy (1960)") +
theme_minimal()
gapminder_1960 <- gap %>% filter(time == 1960)
ggplot(gapminder_1960, aes(x = GDP_PC, y = lifeExpectancy, size = totalPopulation, color = region)) +
geom_point(alpha = 0.7) +
scale_size_area(max_size = 12) +
scale_color_brewer(palette = "Set1") +
labs(x = "GDP per capita (USD)", Y = "Life expectancy (years)", title = "GDP per capita vs. Life expectancy (1960)") +
theme_minimal()
gapminder_1960 <- gap %>% filter(time == 2019)
ggplot(gapminder_1960, aes(x = GDP_PC, y = lifeExpectancy, size = totalPopulation, color = region)) +
geom_point(alpha = 0.7) +
scale_size_area(max_size = 12) +
scale_color_brewer(palette = "Set1") +
labs(x = "GDP per capita (USD)", Y = "Life expectancy (years)", title = "GDP per capita vs. Life expectancy (1960)") +
theme_minimal()
dta_1960 <- gap %>% filter (time == 1960)
data_1960 <- gap %>% filter (time == 1960)
mean(data_1960$lifeExpectancy)
data_2019 <- gap %>% filter (time == 2019)
mean(data_2019$lifeExpectancy)
data_1960 <- gap %>% filter (time == 1960)  %>% filter (!is.na(lifeExpectancy))
mean(data_1960$lifeExpectancy)
data_2019 <- gap %>% filter (time == 2019)
mean(data_2019$lifeExpectancy)
data_1960 <- gap %>% filter (time == 1960)  %>% filter (!is.na(lifeExpectancy))
mean(data_1960$lifeExpectancy)
data_2019 <- gap %>% filter (time == 2019)  %>% filter (!is.na(lifeExpectancy))
mean(data_2019$lifeExpectancy)
data_1960 <- gap %>% filter (time == 1960)  %>% filter (!is.na(lifeExpectancy))
mean(data_1960$lifeExpectancy)
data_2019 <- gap %>% filter (time == 2019)  %>% filter (!is.na(lifeExpectancy))
mean(data_2019$lifeExpectancy)
gapminder %>%
filter(!is.na(lifeExpectancy)) %>%
group_by(region) %>%
summarize(avg_le_growth = (mean(lifeExpectanycy[time == 2019]) - mean(lifeExpectancy[time == 1960]))/mean(lifeExpectancy[time == 1960])*100) %>%
arrange(avg_le_growth)
gapminder %>%
filter(!is.na(lifeExpectancy)) %>%
group_by(region) %>%
summarize(avg_le_growth = (mean(lifeExpectancy[time == 2019]) - mean(lifeExpectancy[time == 1960]))/mean(lifeExpectancy[time == 1960])*100) %>%
arrange(avg_le_growth)
gapminder %>%
filter(!is.na(lifeExpectancy)) %>%
group_by(region) %>%
summarize(avg_le_growth = (mean(lifeExpectancy[time == 2019]) - mean(lifeExpectancy[time == 1960]))/mean(lifeExpectancy[time == 1960])*100) %>%
arrange(avg_le_growth)
gap %>%
filter(!is.na(lifeExpectancy)) %>%
group_by(region) %>%
summarize(avg_le_growth = (mean(lifeExpectancy[time == 2019]) - mean(lifeExpectancy[time == 1960]))/mean(lifeExpectancy[time == 1960])*100) %>%
arrange(avg_le_growth)
gapminder %>%
select(name, time, lifeExpectancy) %>%
filter(name != "", !is.na(time), !is.na(lifeExpectancy)) %>%
filter(time == "1960") %>%
mutate(rank = rank(desc(lifeExpectancy))) %>%
filter(name == "United States of America")
gap %>%
select(name, time, lifeExpectancy) %>%
filter(name != "", !is.na(time), !is.na(lifeExpectancy)) %>%
filter(time == "1960") %>%
mutate(rank = rank(desc(lifeExpectancy))) %>%
filter(name == "United States of America")
gdp_data <- gapminder %>%
filter(!is.na(GDP_PC), time %in% c(1960, 2019))
gdp_data <- gap %>%
filter(!is.na(GDP_PC), time %in% c(1960, 2019))
ggplot(gdp_data, aes(x = GDP_PC, fill = factor(time))) +
geom_histogram(position = "dodge") +
labs(x = "GDP per capita", y = "Count") +
ggtitle("GDP per capita in 1960 and 2019")
